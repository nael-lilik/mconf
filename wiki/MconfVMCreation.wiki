_<font color=red>This is a draft used for internal development only.</font>_


== VM 0.2 ==

=== General ===

  * Ubuntu user:
    * login: firstuser
    * password: default
  * MySQL user:
    * login: root
    * password: default
  

=== Creating the VM ===

  * Download the BigBlueButton VM, or use the previous Mconf VM
    * http://sourceforge.net/projects/bigbluebutton/files/bigbluebutton071a-vm.zip/download

  * Install mconf-web (if not installed yet)
    * use mconf-web-conf

  * Copy the installation scripts to the VM
    {{{
curl https://raw.github.com/mconf/installation-scripts/master/mconf-vm -o ~/mconf-vm
sudo curl https://raw.github.com/mconf/mconf-web/latest/script/mconf-web-conf -o /usr/local/bin/mconf-web-conf
sudo curl https://raw.github.com/mconf/installation-scripts/master/mconf-bbb-conf -o /usr/local/bin/mconf-bbb-conf
sudo chmod a+x ~/mconf-vm
sudo chmod a+x /usr/local/bin/mconf-bbb-conf
sudo chmod a+x /usr/local/bin/mconf-web-conf
    }}}


=== Cleanup ===

  * Change MySQL root password to "default"
    {{{
mysqladmin -u root -p password default # type the current password
    }}}      

  * Configure database.yml
    {{{
cp ~/dev/source/mconf-web/config/database.yml.example ~/dev/source/mconf-web/config/database.yml
emacs ~/dev/source/mconf-web/config/database.yml
# user: root
# password: default
    }}}

  * Check `deploy/conf.yml`:
    {{{
server: "127.0.0.1"
user: "firstuser"
branch: "stable"
    }}}

  * Password
    * Change password to "default"
      {{{
sudo passwd -d firstuser
passwd firstuser # type "default" twice
      }}}
    * Make password expire on next login
      {{{
sudo passwd -e firstuser
      }}}

  * Cleanup
    {{{
curl https://raw.github.com/mconf/installation-scripts/master/mconf-vm-cleanup -o ~/mconf-vm-cleanup
sudo chmod a+x ~/mconf-vm-cleanup
./mconf-vm-cleanup
rm mconf-vm-cleanup
    }}}

  * Erase useless files. Leave only:
    {{{
bigbluebutton-vm.vmx
disk0.vmdk
    }}}
  
  * Change the VM name:
    {{{
mv bigbluebutton-vm.vmx mconf-vm.vmx
    }}}

  * ZIP, upload to sourceforge and update the wiki (http://code.google.com/p/mconf/wiki/MconfVM)