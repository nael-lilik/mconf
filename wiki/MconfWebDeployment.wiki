<font color="red">_work in progress..._</font>

= Deployment =

Mconf-web is a Rails application, so the deployment process is very similar to the deployment of any other Rails application.

The server setup we have right now, and thus the recommended setup, uses the following:

  # [http://www.ubuntu.com/ Ubuntu] 10.04 operating system
  # Ruby is installed with [https://rvm.beginrescueend.com/ RVM]
  # [http://www.modrails.com/ Phusion Passenger]
  # [http://nginx.net/ Nginx] is the web server
  # Mysql2 database
  # [https://github.com/capistrano/capistrano Capistrano] helps you run commands on the server from your development environment

The following guide will instruct you on how to setup exactly this environment.

Mconf-web should work in any operating system that has Ruby available (and most of them do have Ruby). Changing the items 1 and 2 might only require changes in the applications (packages) you'll need to install. But changes in the items 3 to 5 will certainly require modifications in the configuration files and maybe even some code changes.

== 1. System setup ==

=== Ubuntu ===

First, setup a standard [http://www.ubuntu.com/ Ubuntu] installation and create a user `mconf` with a password:

{{{
sudo useradd mconf
sudo passwd mconf
}}}

To proceed with the setup of Mconf-web you will to install: a *ssh server*, *git*, *curl*, and *ruby*.

==== Tools ====

In Ubuntu, you can install most of them with:

{{{
sudo apt-get install openssh-server git curl
}}}

==== Ruby and RVM ====

Mconf-web uses Ruby *1.9.2*. To install Ruby, we suggest the use of RVM. You can do it following our [RVMQuickSteps quick steps] or following [https://rvm.beginrescueend.com/rvm/install/ RVM's install page].

If you decided to use RVM, don't forget to actually install Ruby (and not only RVM) and create a gemset for Mconf-web:

{{{
rvm install 1.9.2
rvm gemset create mconf
rvm use --default 1.9.2@mconf
}}}





_*TODO:* Capistrano, deploy.rb, develop.rb_

=== System packages ===

The system packages needed can be found in the top of the [https://github.com/mconf/mconf-web/blob/master/script/setup setup] script. To install them, you can simply run the script with:

{{{
script/setup production
}}}

The script will also create some configuration files that you need to edit. See the next section for more information.

*Note:* The list of packages is outdated and needs a clean up. It was inherited from VCC and might have unnecessary packages. However, after installing all these packages you shouldn't need anything else.

_to be continued..._