#summary What's new in the BigBlueButton API used in Mconf

= Mconf-BBB API changes =

All the current API changes are in the branch "audio-video-on-api-2" in Mconf's fork of !BigBlueButton. See:
  * Branch: https://github.com/mconf/bigbluebutton/tree/audio-video-on-api-2
  * Compare: https://github.com/mconf/bigbluebutton/compare/881dd7a4f22f51898278004f880898d6848c5e9e...audio-video-on-api-2

These changes are described below.

== Get Meetings ==

*Response:*

|| Param Name || When Returned || Type || Description ||
|| `participantCount` (within `meeting`)|| Always || Number || Number of *participants* in a meeting. It's the same `participantCount` returned in `getMeetingInfo`. ||
|| `listenerCount` (within `meeting`)|| Always || Number || Number of participants *in the audio conference* of a meeting. It's the same `listenerCount` returned in `getMeetingInfo`. ||
|| `videoCount` (within `meeting`)|| Always || Number || Number of participants *sharing video* in a meeting. ||

*Example Response:*

{{{
<response>
   <returncode>SUCCESS</returncode>
   <meetings>
      <meeting>
         <meetingID>test01</meetingID>
         <meetingName>Test</meetingName>
         <createTime>1315254777880</createTime>
         <attendeePW>ap</attendeePW>
         <moderatorPW>mp</moderatorPW>
         <hasBeenForciblyEnded>false</hasBeenForciblyEnded>
         <running>true</running>
         <participantCount>3</participantCount> <!-- Added -->
         <listenerCount>3</listenerCount> <!-- Added -->
         <videoCount>2</videoCount> <!-- Added -->
      </meeting>
   </meetings>
</response>
}}}


== Get Meeting Info ==

*Response:*

|| Param Name || When Returned || Type || Description ||
|| `listenerCount` || Always || Number || Number of participants *in the audio conference* of a meeting. It's the same `listenerCount` returned in `getMeetings`. ||
|| `internalMeetingID` || Always || String || The internal identifier of this meeting. Can be used to access a video stream directly from Red5, for example. ||
|| `isPresenter` (within `attendee`) || Always || Boolean || True if the attendee is the current presenter. There can only be one presenter at a time in a meeting. ||
|| `hasVideoStream` (within `attendee`) || Always || Boolean || True if the attendee is sharing his webcam. ||
|| `videoStreamName` (within `attendee`) || Always || String || The string that identifies the video stream of this attendee. Can be used to access the video stream directly from Red5, for example. ||


*Example Response:*

{{{
<response>
   <returncode>SUCCESS</returncode>
   <meetingName>Test</meetingName>
   <meetingID>test01</meetingID>
   <createTime>1315254777880</createTime>
   <voiceBridge>70775</voiceBridge>
   <attendeePW>ap</attendeePW>
   <moderatorPW>mp</moderatorPW>
   <running>true</running>
   <recording>false</recording>
   <hasBeenForciblyEnded>false</hasBeenForciblyEnded>
   <startTime>1315254785069</startTime>
   <endTime>0</endTime>
   <participantCount>1</participantCount>
   <maxUsers>20</maxUsers>
   <moderatorCount>1</moderatorCount>
   <attendees>
      <attendee>
         <userID>1</userID>
         <fullName>John Doe</fullName>
         <role>MODERATOR</role>
         <isPresenter>true</isPresenter> <!-- Added -->
         <hasVideoStream>true</hasVideoStream> <!-- Added -->
         <videoStreamName>320x2409-1337964970779</videoStreamName> <!-- Added -->
      </attendee>
   </attendees>
   <metadata/>
   <messageKey/>
   <message/>
</response>
}}}